secretsprovider: gcpkms://projects/devenv-194321/locations/us-central1/keyRings/dictycr/cryptoKeys/pulumi
encryptedkey: CiQA3xuh3KrIgPRC22CEyXv0KBhNWZq0Vwi/WZB+jeNi1GBnW4USSAAbtemJh+8T4m3HCCXqCh33kbc004v3uN893KQP/qi3hamZAA1odztwoAOdLk80UK4P0WnrbXfuBzhtz7cDygh01/G5CPDIwA==
config:
  cloudnative-pg-cluster:properties:
    backupSecret:
      name:
        secure: v1:7/3rZquQvAPqQKK+:SKmLmRNM2CPJdWmBQkUqDKuh77vdjVQWuU8Jy0ysdoo=
      key:
        secure: v1:Mu698tgn7doWiZrc:YZoyID/CG6eYQ1R19aoR/2y32fQgFbLpdqAMlbp5lQ==
    cluster:
      backup:
        bucket: gs://pgbackup-devenv
        bucketPath: logto
        retention: 60d
        backupSecret:
          name: ${backupSecret.name}
          key: ${backupSecret.key}
      bootstrap:
        database:
          name: logto
          owner: logto
          userSecret:
            name:
              secure: v1:8FArkInvpfhXrXnk:julCABifFgNdH+NB4vxMH6kNv4366qfG1vw=
            password:
              secure: v1:hrzKQ6umr5GKbEyH:QtSv67easAPDFplS0eBB8v3GJ6jVNEqMLmOUPeME2kfPzKdB3w==
      image:
        name: ghcr.io/cloudnative-pg/postgresql
        tag: 14.13-8
      instances: 1
      name: logto
      namespace: dev
      pgconfig:
        max_connections: "100"
        shared_buffers: "128MB"
      storage:
        class: dictycr-balanced
        size: 50Gi
      superuser: true
      walStorage:
        class: dictycr-balanced
        size: 75Gi
      backup:
        bucket: gs://pgbackup-devenv
        bucketPath: logto
        retention: 60d
